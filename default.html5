<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="$lang$" xml:lang="$lang$"$if(dir)$ dir="$dir$"$endif$>
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    $for(author-meta)$
    <meta name="author" content="$author-meta$" />
    $endfor$
    $if(date-meta)$
    <meta name="dcterms.date" content="$date-meta$" />
    $endif$
    $if(keywords)$
    <meta name="keywords" content="$for(keywords)$$keywords$$sep$, $endfor$" />
    $endif$
    <title>$if(title-prefix)$$title-prefix$ ‚Äì $endif$$pagetitle$</title>
    <style>
$styles.html()$
    </style>
    $for(css)$
    <link rel="stylesheet" href="$css$" />
    $endfor$
    $if(math)$
    $math$
    $endif$
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
    <![endif]-->
    $for(header-includes)$
    $header-includes$
    $endfor$
    <style>
body {
  font-size: 24px;
  line-height: 33.6px;
  font-family: Helvetica, sans-serif;
  color: #333;
  background: #f4ecd8;
  margin: auto;
  max-width: 66ch;
}

  body.dark {
    color: #eee;
    background: #333
  }

  img {
    display: block;
    margin: auto;
    max-width: 100%
  }

  a {
    color: #45a1ff
  }

  h1, h2, h3, h4, h5, h6 {
    line-height: 1.2
  }

* {
  scrollbar-color: #4a4a4f #333;
}

  .switch {
    background: none;
    border: none;
    position: fixed;
    top: 24px;
    right: 24px; 
  }

  .switch::after {
    content: 'üåë'
  }
  .dark .switch::after {
    content: '‚òÄÔ∏è'
  }
    </style>

  </head>
  <body>
    $for(include-before)$
    $include-before$
    $endfor$
    $if(title)$
    <header id="title-block-header">
      <h1 class="title">$title$</h1>
      $if(subtitle)$
      <p class="subtitle">$subtitle$</p>
      $endif$
      $for(author)$
      <p class="author">$author$</p>
      $endfor$
    </header>
    $endif$
    $if(toc)$
    <nav id="$idprefix$TOC" role="doc-toc">
      $if(toc-title)$
      <h2 id="$idprefix$toc-title">$toc-title$</h2>
      $endif$
      $table-of-contents$
    </nav>
    $endif$
    $body$
    $for(include-after)$
    $include-after$
    $endfor$
    <script>
      document.body.classList.add('dark')

      const button = document.createElement('button');
      button.className = 'switch';
      button.addEventListener('click', () => document.body.classList.toggle('dark'));
      document.body.appendChild(button);

      const nodes = document.querySelectorAll('*');
      nodes.forEach(node => node.removeAttribute('style'));

      // Scroll with j/k keys
      document.addEventListener('keydown', event => {
        if (event.keyCode == 74) {
          scrollBy({top: 250, behavior: 'smooth'});
        } else if (event.keyCode == 75) {
          scrollBy({top: -250, behavior: 'smooth'});
        }
      });
    </script>
  </body>
</html>
